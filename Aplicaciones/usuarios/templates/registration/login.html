{% extends 'plantilla2.html' %}
{% load static %}
{% block title %}
Iniciar Sesión
{% endblock %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">  <!-- Incluye el archivo CSS -->
    <h2 class="text text-center">Inicio de Sesión</h2>
    <h2 class="text text-center">Centro Médico Renacer</h2>
    <img id="logo_login" src="{% static 'img/logosinfondo.png' %}"  alt="Logo Renacer">
    <form method="POST">
        {% csrf_token %}
        <b><label for="username">Usuario</label></b>
        <input type="text" name="username" placeholder="Ingrese su usuario" required>
        <b><label for="password">Contraseña</label></b>
        <!-- <input type="password" name="password" placeholder="Ingrese su contraseña" required>         -->
        <div class="input-group mb-3">
            <input type="password" class="form-control" id="password" name="password" placeholder="Ingrese su contraseña" required>
            <span class="input-group-text">
                <i class="fas fa-eye" id="togglePasswordIcon" style="cursor: pointer;" alt="Ver Contraseña" ></i>
            </span>            
        </div>
        {% if error %}
        <p style="color: red;">{{ error }}</p>
        {% endif %}
        <!-- <a id="olvidar_contraseña" href="#">¿Olvidaste tu contraseña?</a> -->
        <br>
        <br>
        <button type="submit">Ingresar</button>
    </form>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const togglePasswordIcon = document.querySelector('#togglePasswordIcon');
            const password = document.querySelector('#password');
    
            togglePasswordIcon.addEventListener('click', function (e) {
                // Toggle the type attribute
                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                password.setAttribute('type', type);
    
                // Toggle the eye icon
                if (type === 'password') {
                    togglePasswordIcon.classList.remove('fa-eye-slash');
                    togglePasswordIcon.classList.add('fa-eye');
                } else {
                    togglePasswordIcon.classList.remove('fa-eye');
                    togglePasswordIcon.classList.add('fa-eye-slash');
                }
            });
        });
    </script>
{% endblock %}